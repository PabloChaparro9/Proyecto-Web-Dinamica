<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Sketch</title>

    <link rel="stylesheet" type="text/css" href="style.css">

    <script src="libraries/p5.min.js"></script>
    <script src="libraries/p5.sound.min.js"></script>
    <script src="https://unpkg.com/@free-side/audioworklet-polyfill/dist/audioworklet-polyfill.js" type="text/javascript"></script>
  </head>

  <body>
    <nav>
      <div class="btnContainer">
        <button class="MenuList" type="button" onclick="document.getElementById('Opciones').classList.toggle('Mostrar')">
          <img src="./assets/list.svg" alt="Icono Menu Desplegable">
        </button>
      </div>
      <div id="Opciones" class="Opciones Ocultar">
        <button type="button" onclick="document.getElementById('login').classList.toggle('Ocultar');document.getElementById('Opciones').classList.toggle('Mostrar')">Iniciar Sesion</button>
        <button type="button" onclick="document.getElementById('guia').classList.toggle('Ocultar');document.getElementById('Opciones').classList.toggle('Mostrar')">Guia</button>
      </div>
    </nav>
  <section class ="login" id="login">
    <form id="loginForm" class="loginForm">
      <h2>Iniciar sesion</h2>
      <label for="username">Usuario:</label>
      <input type="text" id="username" name="username" required>
      <label for="password">Contraseña:</label>
      <input type="password" id="password" name="password" required>
      <button type="submit">Ingresar</button>
      <p id="loginMensaje"></p>
    </form>
    <button type="button" class="cerrarSesion" id="cerrarSesion" onclick="cerrarSesion()">Cerrar sesion</button>
    <button id="btnRegistrar" type="button" onclick="SwitchFormularios()">Registrarse</button>
    <form id="registerForm" class=" loginForm Ocultar">
      <h2>Registrarse</h2>
      <label for="registerUsername">Usuario:</label>
      <input type="text" id="registerUsername" required>
      <label for="registerPassword">Contraseña:</label>
      <input type="password" id="registerPassword" required>
      <button type="submit">Registrar</button>
      <p id="registerMessage"></p>
      <button type="button" onclick="SwitchFormularios()">Iniciar Sesion</button>
    </form>
  </section>
  <section id="saveMelody" class="Ocultar login">
    <form id="guardarMelodiaForm">
    <h2>Guardar melodia</h2>
      <label for="nombre">Nombre de la melodia</label>
      <input type="text" name="nombreMelodia" id="nombreMelodia">
      <button type="submit">Guardar melodia</button>
    </form>
    <p id="guardarMensaje"></p>
    <button class="cerrarVentana" type="button" onclick="document.getElementById('saveMelody').classList.toggle('Ocultar')">cerrar Ventana</button>
  </section>
  <section id="melodiasGuardadasSection" class="melodiasGuardadasSection Ocultar">
    <ul id="melodiasGuardadas"></ul>
    <button class="cerrarVentana" type="button" onclick="cerrarVentana()">cerrar Ventana</button>
  </section>
  <section class="guia Ocultar" id="guia">
    <h2>Guía del jugador</h2>
    <h3>Registro e inicio de sesión</h3>
    <p>Para <span>registrarse</span>, ingresa un nombre de usuario <span>único</span> y crea una contraseña.</p>
    <p>Una vez registrado, <span>inicia sesión</span> utilizando tu nombre de usuario y contraseña.</p>
    <p><span>Nota:</span> No es necesario registrarse o iniciar sesion para jugar.</p>
    <p>Sin embargo, algunas funciones estaran restringidas, como guardar y reproducir melodías.</p>

    <h3>Controles del personaje</h3>
    <div class="imgContainer controlesWASD"><img src="./assets/Guia/Controles.png" alt="Controles para el movimiento dentro del juego"></div>
    <p>El personaje puede moverse en <span>cuatro direcciones</span> utilizando las teclas del teclado o los botones en pantalla.</p>
    <p><span>Hacia arriba</span> 'W' o flecha '↑'</p>
    <p><span>Hacia abajo</span> 'S' o flecha '↓'</p>
    <p><span>Hacia izquierda</span> 'A' o flecha '←'</p>
    <p><span>Hacia derecha</span> 'D' o flecha '→'</p>

    <p>Acción</p>
    <div class="imgContainer controlesAccion"><img src="./assets/Guia/Controles.png" alt="Controles de interaccion dentro del juego"></div>
    <p>Usa la tecla 'E' (o el boton Acción en pantalla) para interactuar con objetos dentro del juego: </p>
    <p><span>Atriles con partituras</span>: Activa las teclas musicales para reproducir diferentes notas.</p>
    <p><span>Grabadora</span>: Abre el menú de melodías guardadas para reproducirlas</p>

    <h3>Teclas musicales</h3>
    <div class="imgContainer controlesTeclasMusicales"><img src="./assets/Guia/TeclasMusicales.png" alt="Controles para las teclas musicales"></div>

    <p>Puedes reproducir notas musicales con las siguientes teclas</p>
    <p><span>T</span> primera nota</p>
    <p><span>Y</span> segunda nota</p>
    <p><span>7</span> tercera nota (Habitacion de la izquierda)</p>
    <p><span>U</span> tercera nota (Habitacion de la derecha)</p>
    <p><span>I</span> cuarta nota</p>
    <p><span>O</span> quinta nota</p>

    <h3>Botones adicionales</h3>
    <p><span>Reproducir Melodía</span>: Presiona el boton 'Melodía' para escuchar la secuencia que debes imitar.</p>
    <p><span>Guardar Melodia</span>: Presiona el boton 'Guardar Melodía' para acceder al menú de guardado</p>

    <h3>Cómo jugar</h3>
    <p><Span>Explora las habitaciones laterales</Span>:</p>

    <p>Dirigete a las habitaciones donde encontraras habitaciones con partituras.</p>

    <p><span>Posicionate frente al atril</span>: </p>
    <div class="imgContainer mapaAtril"><img src="./assets/Guia/atril.png" alt="Imagen del nivel señalando el atril"></div>
    
    <p>Colócate sobre las alfombras frente a los atriles y presiona la tecla `E` para interactuar.</p>

    <p><span>Imita la melodia propuesta</span></p>
    <p>La melodía que debes imitar se genera aleatoriamente cada vez que entras en una habitación.</p>

    <h3>Guardar melodías</h3>

    <p><span>Inicia sesión</span>: Solo los jugadores registrados pueden guardar melodías.  </p>
    <p>Presiona el botón "Guardar Melodía" para abrir el menú.  </p>
    <p>Ingresa un <span>nombre</span> para la melodía y haz clic en "Guardar".  </p>
    <p>¡Listo! Tu melodía se habrá guardado correctamente.</p>

    <h3>Reproducir Melodías Guardadas</h3>

    <p><span>Inicia sesión</span>: Asegúrate de haber iniciado sesión.</p>
    <p>Dirígete a la habitación donde se encuentra la <span>Grabadora</span>.</p>
    <p><span>Interactúa con la grabadora</span>: Colócate frente a ella y presiona `E`.  </p>
    <div class="imgContainer mapaGrabadora"><img src="./assets/Guia/grabadora.png" alt="Imagen del nivel señalando la grabadora"></div>
    <p>En el menú, presiona el botón "Reproducir" junto al nombre de la melodía que deseas escuchar.</p>

  </section>
    <script src="sketch.js"></script>
  </body>
</html>
